<div class="container mt-4">
  <div class="card registration-card">
    <div class="card-header bg-primary text-white">
      <h2 class="card-title mb-0">Register New Model</h2>
    </div>
    <div class="card-body">
    
      <div *ngIf="successMessage" class="alert alert-success">
        {{ successMessage }}
      </div>
      
      <div *ngIf="errorMessage" class="alert alert-danger">
        {{ errorMessage }}
      </div>

      <form [formGroup]="registrationForm" (ngSubmit)="onSubmit()" class="registration-form">
        <div class="mb-3">
          <label for="modelName" class="form-label">Model Name *</label>
          <input
            type="text"
            id="modelName"
            formControlName="modelName"
            class="form-control"
            [class.is-invalid]="getFieldError('modelName')"
            placeholder="Enter model name"
          />
          <div *ngIf="getFieldError('modelName')" class="invalid-feedback">
            {{ getFieldError('modelName') }}
          </div>
        </div>

        <div class="mb-3">
          <label for="modelVersion" class="form-label">Model Version *</label>
          <input
            type="text"
            id="modelVersion"
            formControlName="modelVersion"
            class="form-control"
            [class.is-invalid]="getFieldError('modelVersion')"
            placeholder="e.g., v1.0"
          />
          <div *ngIf="getFieldError('modelVersion')" class="invalid-feedback">
            {{ getFieldError('modelVersion') }}
          </div>
        </div>

        <div class="mb-3">
          <label for="modelSponsor" class="form-label">Model Sponsor *</label>
          <input
            type="text"
            id="modelSponsor"
            formControlName="modelSponsor"
            class="form-control"
            [class.is-invalid]="getFieldError('modelSponsor')"
            placeholder="Enter sponsor name"
          />
          <div *ngIf="getFieldError('modelSponsor')" class="invalid-feedback">
            {{ getFieldError('modelSponsor') }}
          </div>
        </div>

        <div class="mb-3">
          <label for="businessLine" class="form-label">Business Line *</label>
          <select
            id="businessLine"
            formControlName="businessLine"
            class="form-select"
            [class.is-invalid]="getFieldError('businessLine')"
          >
            <option value="">Select Business Line</option>
            <option *ngFor="let option of enumValues?.businessLines" [value]="option.value">
              {{ option.displayName }}
            </option>
          </select>
          <div *ngIf="getFieldError('businessLine')" class="invalid-feedback">
            {{ getFieldError('businessLine') }}
          </div>
        </div>

        <div class="mb-3">
          <label for="modelType" class="form-label">Model Type *</label>
          <select
            id="modelType"
            formControlName="modelType"
            class="form-select"
            [class.is-invalid]="getFieldError('modelType')"
          >
            <option value="">Select Model Type</option>
            <option *ngFor="let option of enumValues?.modelTypes" [value]="option.value">
              {{ option.displayName }}
            </option>
          </select>
          <div *ngIf="getFieldError('modelType')" class="invalid-feedback">
            {{ getFieldError('modelType') }}
          </div>
        </div>

        <div class="mb-3">
          <label for="riskRating" class="form-label">Risk Rating *</label>
          <select
            id="riskRating"
            formControlName="riskRating"
            class="form-select"
            [class.is-invalid]="getFieldError('riskRating')"
          >
            <option value="">Select Risk Rating</option>
            <option *ngFor="let option of enumValues?.riskRatings" [value]="option.value">
              {{ option.displayName }}
            </option>
          </select>
          <div *ngIf="getFieldError('riskRating')" class="invalid-feedback">
            {{ getFieldError('riskRating') }}
          </div>
        </div>

        <div class="mb-3">
          <label for="status" class="form-label">Status *</label>
          <select
            id="status"
            formControlName="status"
            class="form-select"
            [class.is-invalid]="getFieldError('status')"
          >
            <option value="">Select Status</option>
            <option *ngFor="let option of enumValues?.statuses" [value]="option.value">
              {{ option.displayName }}
            </option>
          </select>
          <div *ngIf="getFieldError('status')" class="invalid-feedback">
            {{ getFieldError('status') }}
          </div>
        </div>

        <div class="d-flex gap-2 mt-4">
          <button
            type="submit"
            class="btn btn-primary"
            [disabled]="isSubmitting"
          >
            <span *ngIf="isSubmitting">Registering...</span>
            <span *ngIf="!isSubmitting">Register Model</span>
          </button>
          
          <button
            type="button"
            class="btn btn-secondary"
            (click)="router.navigate(['/inventory'])"
          >
            View Inventory
          </button>
        </div>
      </form>
    </div>
  </div>
</div>
